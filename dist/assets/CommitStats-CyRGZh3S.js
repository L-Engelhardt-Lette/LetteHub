import{h as tt,S as et,H as nt,k as V,s as st,l as at,n as it,o as ot,q as rt,t as lt,x as ct,y as $,p as ut,d as mt,z as ft,A as dt,B as P,C as ht,G as J,r as T,j as g,D as B}from"./index-_oXKQ1ms.js";import{u as pt}from"./use-in-view-CFPQp5im.js";import{r as Q}from"./resolve-element-Ex3QWR4Z.js";function gt(t){return typeof t=="object"&&!Array.isArray(t)}function xt(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},a=tt(t)?new et(e):new nt(e);a.mount(t),V.set(t,a)}function yt(t,e=100){const a=st({keyframes:[0,e],...t}),n=Math.min(at(a),it);return{type:"keyframes",ease:s=>a.next(n*s).value/e,duration:ot(n)}}function H(t,e,a,n){var s;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?a:(s=n.get(e))!==null&&s!==void 0?s:t}const St=(t,e,a)=>{const n=e-t;return((a-t)%n+n)%n+t};function At(t,e){return rt(t)?t[St(0,t.length,e)]:t}function Et(t,e,a){for(let n=0;n<t.length;n++){const s=t[n];s.at>e&&s.at<a&&(ct(t,s),n--)}}function vt(t,e,a,n,s,i){Et(t,s,i);for(let o=0;o<e.length;o++)t.push({value:e[o],at:lt(s,i,n[o]),easing:At(a,o)})}function wt(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const bt="easeInOut";function Ct(t,{defaultTransition:e={},...a}={},n){const s=e.duration||.3,i=new Map,o=new Map,u={},c=new Map;let d=0,r=0,w=0;for(let E=0;E<t.length;E++){const f=t[E];if(typeof f=="string"){c.set(f,r);continue}else if(!Array.isArray(f)){c.set(f.name,H(r,f.at,d,c));continue}let[x,h,l={}]=f;l.at!==void 0&&(r=H(r,l.at,d,c));let p=0;const b=(y,S,v,D=0,j=0)=>{const m=Dt(y),{delay:M=0,times:C=mt(m),type:Y="keyframes",...Z}=S;let{ease:k=e.ease||"easeOut",duration:A}=S;const G=typeof M=="function"?M(D,j):M,I=m.length;if(I<=2&&Y==="spring"){let _=100;if(I===2&&Mt(m)){const q=m[1]-m[0];_=Math.abs(q)}const O={...Z};A!==void 0&&(O.duration=dt(A));const W=yt(O,_);k=W.ease,A=W.duration}A??(A=s);const L=r+G,R=L+A;C.length===1&&C[0]===0&&(C[1]=1);const K=C.length-m.length;K>0&&ft(C,K),m.length===1&&m.unshift(null),vt(v,m,k,C,L,R),p=Math.max(G+A,p),w=Math.max(R,w)};if($(x)){const y=z(x,o);b(h,l,F("default",y))}else{const y=Q(x,n,u),S=y.length;for(let v=0;v<S;v++){h=h,l=l;const D=y[v],j=z(D,o);for(const m in h)b(h[m],jt(l,m),F(m,j),v,S)}}d=r,r+=p}return o.forEach((E,f)=>{for(const x in E){const h=E[x];h.sort(wt);const l=[],p=[],b=[];for(let S=0;S<h.length;S++){const{at:v,value:D,easing:j}=h[S];l.push(D),p.push(ut(0,w,v)),b.push(j||"easeOut")}p[0]!==0&&(p.unshift(0),l.unshift(l[0]),b.unshift(bt)),p[p.length-1]!==1&&(p.push(1),l.push(null)),i.has(f)||i.set(f,{keyframes:{},transition:{}});const y=i.get(f);y.keyframes[x]=l,y.transition[x]={...e,duration:w,ease:b,times:p,...a}}}),i}function z(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function F(t,e){return e[t]||(e[t]=[]),e[t]}function Dt(t){return Array.isArray(t)?t:[t]}function jt(t,e){return t[e]?{...t,...t[e]}:{...t}}const Tt=t=>typeof t=="number",Mt=t=>t.every(Tt);function X(t,e,a,n){const s=Q(t,n),i=s.length,o=[];for(let u=0;u<i;u++){const c=s[u];V.has(c)||xt(c);const d=V.get(c),r={...a};typeof r.delay=="function"&&(r.delay=r.delay(u,i)),o.push(...ht(d,{...e,transition:r},{}))}return new J(o)}const Nt=t=>Array.isArray(t)&&Array.isArray(t[0]);function Vt(t,e,a){const n=[];return Ct(t,e,a).forEach(({keyframes:i,transition:o},u)=>{let c;$(u)?c=P(u,i.default,o.default):c=X(u,i,o),n.push(c)}),new J(n)}const kt=t=>{function e(a,n,s){let i;return Nt(a)?i=Vt(a,n,t):gt(n)?i=X(a,n,s,t):i=P(a,n,s),t&&t.animations.push(i),i}return e},Gt=kt(),It="https://api.github.com/repos/L-Engelhardt-Lette/LetteHub",U="",_t=()=>{const[t,e]=T.useState({commits:0,linesOfCode:0,timeWorked:""});return T.useEffect(()=>{(async()=>{try{let n=1,s=[],i;do i=await B.get(`${It}/commits`,{params:{per_page:100,page:n},headers:{Authorization:`token ${U}`}}),s=s.concat(i.data),n++;while(i.data.length>0);const o=s.length;let u=0,c=0,d,r;for(const E of s){const f=await B.get(E.url,{headers:{Authorization:`token ${U}`}}),{stats:x,commit:h}=f.data;u+=x.additions,c+=x.deletions;const l=new Date(h.author.date);(!d||l<d)&&(d=l),(!r||l>r)&&(r=l)}const w=r&&d?Math.round((r.getTime()-d.getTime())/(1e3*60*60*24))+" days":"N/A";e({commits:o,linesOfCode:u+c,timeWorked:w})}catch(n){console.error("Error fetching repo stats:",n)}})()},[]),g.jsx("div",{className:"mx-auto max-w-3xl px-4 py-20 md:py-24",children:g.jsxs("div",{className:"flex flex-col items-center justify-center sm:flex-row",children:[g.jsx(N,{num:t.commits,suffix:"",subheading:"Commits"}),g.jsx("div",{className:"h-[1px] w-12 bg-indigo-200 sm:h-12 sm:w-[1px]"}),g.jsx(N,{num:t.linesOfCode,suffix:"",subheading:"Lines of Code"}),g.jsx("div",{className:"h-[1px] w-12 bg-indigo-200 sm:h-12 sm:w-[1px]"}),g.jsx(N,{num:parseInt(t.timeWorked),suffix:" days",subheading:"Time Worked"})]})})},N=({num:t,suffix:e,decimals:a=0,subheading:n})=>{const s=T.useRef(null),i=pt(s);return T.useEffect(()=>{i&&Gt(0,t,{duration:2.5,onUpdate(o){s.current&&(s.current.textContent=o.toFixed(a))}})},[t,a,i]),g.jsxs("div",{className:"flex w-72 flex-col items-center py-8 sm:py-0",children:[g.jsxs("p",{className:"mb-2 text-center text-7xl font-semibold sm:text-6xl",children:[g.jsx("span",{ref:s}),e]}),g.jsx("p",{className:"max-w-48 text-center text-neutral-600",children:n})]})};export{_t as CommitStats,_t as default};
